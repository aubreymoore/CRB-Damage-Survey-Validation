<!--
    HTML template that uses images and variable in instructions.

    This template uses Bootstrap and jQuery.
    The JavaScript and CSS are loaded from public CDNs.

    The CSV input file should have column named "image_url".
    The template then uses ${image_url} in an img tag.

    The CSV output file will have columns for Input.object, Input.image and Answer.answer
    in addition to metadata columns.
-->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script>
$(document).ready(function() {
  // process a click on an option button
  $('.option').on('click', function(event) {
    // copy answer to hidden input
    $('input[name="answer"]').val($(this).html());
    // erase any selected button
    $('.option').removeClass('btn-info');
    // highlight the current button
    $(this).addClass('btn-info');
    // don't submit the form
    event.preventDefault();
  });
});
</script>

<div class="container mt-2">
  <h4>Please rate damage to coconut tree(s) in the image using 
    <a href="https://github.com/aubreymoore/CRB-Damage-Survey-Validation/raw/main/jackson-crb-damage-index-5.pdf">
    Jackson's CRB Damage Index</a>.<br/>
    ${image_file_name}.</h4>

  <div class="row">
    <div class="col-8">
<!--
      <img src="${image_url}" class="img-fluid" alt="Responsive image" border="1" height="600">
-->
      <img src="${image_url}" border="1" height="500">
    </div>
    <div class="col-4">
      <h5>CRB damage rating</h5>
      <div class="form-group">
        <div class="btn-group-vertical">
          <button class="btn btn-secondary option">zero</button>
          <button class="btn btn-secondary option">light</button>
          <button class="btn btn-secondary option">medium</button>
          <button class="btn btn-secondary option">high</button>
          <button class="btn btn-secondary option">non_recoverable</button>
          <button class="btn btn-secondary option">cannot determine: poor image quality</button>
          <button class="btn btn-secondary option">cannot determine: not a coconut palm</button>
        </div>
      </div>
      <h5>Note (optional)</h5>
      <div class="form-group">
          <input type="text" name="note" class="form-control"/>
      </div>
      <input type="hidden" name="answer">
      <div class="form-group">
        <input type="submit" class="btn btn-primary" value="Submit">
      </div>
    </div>
  </div>
</div>
